<h1 class="h2">Клиенты</h1>
<div *ngIf="apiError" class="alert alert-danger">Ошибка:{{apiError}}</div>
<form>
  <div class="btn-toolbar mb-2 mb-md-0 component-toolbar">
    <input type="search" id="search"
           class="form-control form-control-sm component-toolbar__item component-toolbar__search"
           placeholder="Лицевой счет" name="accountFilter" [(ngModel)]="accountFilter"/>
    <button class="btn btn-sm btn-outline-secondary component-toolbar__item" placement="top" ngbTooltip="Поиск" (click)="loadAccounts()"><span
      data-feather="search"></span></button>
    <button class="btn btn-sm btn-outline-secondary component-toolbar__item" placement="top" ngbTooltip="Добавить" (click)="addAccount()"><span
      data-feather="user-plus"></span></button>
    <button class="btn btn-sm btn-outline-secondary component-toolbar__item" placement="top" ngbTooltip="Редактировать">
      <span data-feather="edit"></span></button>
    <button class="btn btn-sm btn-outline-secondary component-toolbar__item" placement="top" ngbTooltip="Удалить"><span
      data-feather="user-minus"></span></button>
    <button class="btn btn-sm btn-outline-secondary component-toolbar__item" placement="top"
            ngbTooltip="Экспорт в Excel">
      <span data-feather="external-link"></span></button>
  </div>
  <div class="table-responsive">
    <table class="table table-striped table-sm">
      <thead>
      <tr>
        <td class="checkbox-column"><input type="checkbox" class="form-control"/></td>
        <td>КА</td>
        <td>Откл.</td>
        <td>Лиц. счет</td>
        <td>Улица</td>
        <td>Дом</td>
        <td>Б.</td>
        <td>Кор.</td>
        <td>П-д.</td>
        <td>Кв.</td>
        <td>Фамилия</td>
        <td>Телефон</td>
        <td>Пр.</td>
        <td>ФСБ</td>
      </tr>
      </thead>
      <tbody>
      <tr *ngFor="let account of accounts">
        <td class="checkbox-column"><input type="checkbox" class="form-control"/></td>
        <td><i *ngIf="account.hasDevice" class="fa fa-check"></i></td>
        <td><i *ngIf="account.switchOff" class="fa fa-check"></i></td>
        <td>{{account.account}}</td>
        <td>{{account.streetName}}</td>
        <td>{{account.house}}</td>
        <td>{{account.letter}}</td>
        <td>{{account.building}}</td>
        <td>{{account.porch}}</td>
        <td>{{account.flat}}</td>
        <td>{{account.fio}}</td>
        <td>{{account.phone}}</td>
        <td><i *ngIf="account.gorod" class="fa fa-check"></i></td>
        <td><i *ngIf="account.fsb" class="fa fa-check"></i></td>
      </tr>
      </tbody>
    </table>
    <div class="d-flex justify-content-between p-2">
      <ngb-pagination [collectionSize]="total" [(page)]="pageRequest.page" [pageSize]="pageRequest.pageSize" (pageChange)="loadAccounts()"></ngb-pagination>

      <label for="cmbItemsPerPage">Элементов на странице
        <select id="cmbItemsPerPage" class="form-control-sm" style="width: auto" name="pageSize" [(ngModel)]="pageRequest.pageSize">
          <option [ngValue]="25">25</option>
          <option [ngValue]="50">50</option>
          <option [ngValue]="100">100</option>
        </select>
      </label>
    </div>
  </div>
</form>
